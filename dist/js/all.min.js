angular.module("myApp",["ionic","RongWebIMWidget","myApp.slideBox","myApp.tabs","myApp.http","myApp.home","myApp.points","myApp.shop","myApp.person","myApp.homeDetail","myApp.order","myApp.collect","myApp.myCart","myApp.integral","myApp.address","myApp.payment"]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(t,e,o){o.views.transition("ios"),o.tabs.position("bottom"),o.navBar.alignTitle("center"),o.tabs.style("standard"),t.state("tabs",{url:"/tabs",abstract:!0,templateUrl:"tabs.html",controller:"tabsController"}),e.otherwise("tabs/home")}]),angular.module("myApp.address",["ionic"]).config(["$stateProvider",function(t){t.state("address",{url:"/address",templateUrl:"address.html",controller:"addressController"})}]).controller("addressController",["$scope","$ionicPopup","HttpFactory",function(t,e,o){var n="http://114.112.94.166/sunny/wap/api/uAddress";o.getData(n).then(function(e){t.adds=e.addressData,console.log(t.adds)}),t.remove=function(){var o=e.alert({cssClass:"Order",scope:t,title:"确认要删除该地址吗?",buttons:[{text:"取消",onTap:function(){}},{text:"确定",onTap:function(){}}]});o.then(function(t){})}}]),angular.module("myApp.collect",["ionic"]).config(["$stateProvider",function(t){t.state("collect",{url:"/collect",templateUrl:"collect.html",controller:"collectController"})}]).controller("collectController",["$scope","HttpFactory","$ionicPopup",function(t,e,o){var n="http://114.112.94.166/sunny/wap/api/ucollection";e.getData(n).then(function(e){t.collects=e.collectionData,console.log(t.collects)}),t.goShare=function(){var t=o.alert({cssClass:"Order",title:"确定要删除该商品吗？",buttons:[{text:"取消"},{text:"确定"}]});t.then(function(t){})}}]),angular.module("myApp.home",[]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("tabs.home",{url:"/home",views:{"tabs-home":{templateUrl:"home.html",controller:"homeController"}}})}]).controller("homeController",["$scope","$ionicModal","RongCustomerService","$state","$ionicViewSwitcher","HttpFactory",function(t,e,o,n,r,l){function a(e){"add"==e&&t.home.goodsNum++,"reduce"==e&t.home.goodsNum>1&&t.home.goodsNum--}t.home={changeNum:a,goodsNum:1};var i="http://114.112.94.166/sunny/wap/api/getGoods";l.getData(i).then(function(e){t.its=e.goodsData,t.items=e.bannerData,console.log(t.items)}),e.fromTemplateUrl("modal.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.modal=e}),t.openModal=function(){t.modal.show()},t.$on("modal.removed",function(){});document.body.offsetWidth,document.body.offsetHeight;o.init({appkey:"8brlm7uf8biy3",token:"EjzV/HAYCM4R/XU+vwCVgqfYJyLwTpiXPNFBcUjph1giqU/Eh9ISSbV/C9IiC4N6M0GSHGMEd92m2G1kBu8F1Q==",customerServiceId:"KEFU148301002880692",position:o.Position.right,reminder:"",style:{width:window.screen.width,height:window.screen.height+5,displayMinButton:!1,positionFixed:!0},onSuccess:function(){var t=angular.element(document.getElementById("rong-widget-minbtn"));t.css("bottom","80px"),t.css("right","20px");var e=angular.element(document.getElementById("rong-sendBtn"));e.css("backgroundColor","#E60012"),t.on("click",function(){});var o=angular.element(document.getElementById("header").childNodes[1].childNodes[1]);o.on("click",function(){})},onError:function(){}}),t.goToHomeDetail=function(t){n.go("homeDetail"),r.nextDirection("forward")}}]),angular.module("myApp.homeDetail",[]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("homeDetail",{url:"/homeDetail",templateUrl:"homeDetail.html",controller:"homeDetailController"})}]).controller("homeDetailController",["$scope","$ionicViewSwitcher",function(t,e){function o(e){var o=angular.element(document.querySelector(".detail_for")).children();o.removeClass("active"),angular.element(e.target).addClass("active"),"商品详情"==e.target.innerHTML&&(t.homeDetail.goodsDetail="homeDetail.html"),"商品参数"==e.target.innerHTML&&(t.homeDetail.goodsDetail="homeDetail2.html"),e.target.innerHTML.indexOf("评价")!=-1&&(t.homeDetail.goodsDetail="homeDetail3.html")}t.homeDetail={goodsDetail:"homeDetail1.html",changeDetail:o},t.goBack=function(){window.history.go(-1),e.nextDirection("back")}}]),angular.module("myApp.myCart",["ionic"]).config(["$stateProvider",function(t){t.state("myCart",{url:"/myCart",templateUrl:"myCart.html",controller:"myCartController"})}]).controller("myCartController",["$scope","$ionicPopup","HttpFactory",function(t,e,o){var n="http://114.112.94.166/sunny/wap/api/ushoppingCart";o.getData(n).then(function(e){t.carts=e.shoppingCart,t.nums=e.shoppingCart.length,console.log(t.nums)}),t.showConfirm=function(){var t=e.alert({cssClass:"Order",title:"确定要删除该商品吗？",buttons:[{text:"取消"},{text:"确定"}]});t.then(function(t){})}}]),angular.module("myApp.integral",["ionic"]).config(["$stateProvider",function(t){t.state("myIntegral",{url:"/myIntegral",templateUrl:"myIntegral.html",controller:"myIntegralController"})}]).controller("myIntegralController",["$scope","HttpFactory",function(t,e){var o="http://114.112.94.166/sunny/wap/api/uintegral";e.getData(o).then(function(e){t.integrals=e.integralData,console.log(t.integrals)})}]),angular.module("myApp.order",["ionic"]).config(["$stateProvider",function(t){t.state("order",{url:"/order",templateUrl:"order.html",controller:"orderController"})}]).controller("orderController",["$scope",function(t){}]),angular.module("myApp.payment",["ionic"]).config(["$stateProvider",function(t){t.state("payment",{url:"/payment",templateUrl:"payment.html",controller:"paymentController"})}]).controller("paymentController",["$scope",function(t){}]),angular.module("myApp.person",["ionic"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("tabs.person",{url:"/person",views:{"tabs-person":{templateUrl:"person.html",controller:"personController"}}})}]).controller("personController",["$scope","$state","$ionicViewSwitcher",function(t,e,o){console.log("进入个人中心页面"),t.myOrder=function(){e.go("order"),o.nextDirection("forward")},t.loveGoods=function(){e.go("collect"),o.nextDirection("forward")},t.shoppingCart=function(){e.go("myCart"),o.nextDirection("forward")},t.myIntegral=function(){e.go("myIntegral"),o.nextDirection("forward")},t.address=function(){e.go("address"),o.nextDirection("forward")},t.payment=function(){e.go("payment"),o.nextDirection("forward")}}]),angular.module("myApp.points",[]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("tabs.points",{url:"/points",views:{"tabs-points":{templateUrl:"points.html",controller:"pointsController"}}})}]).controller("pointsController",["$scope","HttpFactory",function(t,e){var o="http://114.112.94.166/sunny/wap/api/getGoods";e.getData(o).then(function(e){t.its=e.goodsData,t.items=e.bannerData,console.log(t.items)})}]),angular.module("myApp.shop",[]).config(["$stateProvider",function(t){t.state("tabs.shop",{url:"/shop",views:{"tabs-shop":{templateUrl:"shop.html",controller:"shopController"}}})}]).controller("shopController",["$scope","HttpFactory",function(t,e){var o="http://114.112.94.166/sunny/wap/api/franchise";e.getData(o).then(function(e){t.shops=e.data,console.log(t.shops)})}]),angular.module("myApp.tabs",[]).controller("tabsController",["$scope",function(t){t.$on("$stateChangeSuccess",function(t,e,o){var n=function(t){document.getElementsByTagName("body")[0];document.title=t;var e=document.createElement("iframe");e.addEventListener("load",function(){setTimeout(function(){document.body.removeChild(e)})}),document.body.appendChild(e)},r=angular.element(document.getElementById("rong-widget-minbtn"));switch(e.url){case"/home":n("SUNNY SHU官方商城"),r.css("display","block");break;case"/points":n("积分商城"),r.css("display","block");break;case"/shop":n("加盟店"),r.css("display","none");break;case"/personal":n("个人中心"),r.css("display","none")}})}]),angular.module("myApp.http",[]).factory("HttpFactory",["$http","$q",function(t,e){return{getData:function(o,n){if(o){var r=e.defer();return n=n?n:"GET",t({url:o,method:n,timeout:2e4}).then(function(t){t=t.data,r.resolve(t)},function(t){r.reject(t)}),r.promise}}}}]),angular.module("myApp.slideBox",[]).directive("mgSlideBox",[function(){return{restrict:"E",scope:{sourceArray:"="},templateUrl:"slideBox.html",controller:["$scope","$state","$ionicSlideBoxDelegate","$element",function(t,e,o,n){t.goToDetailView=function(t){};n[0].lastChild;t.$watch("sourceArray",function(e,o){e&&e.length&&(t.isShowSlide=!1,setTimeout(function(){t.isShowSlide=!0}))}),o.$getByHandle("mainSlideBox").enableSlide(!1),t.drag=function(t){o.$getByHandle("mainSlideBox").enableSlide(!1),t.stopPropagation()}}],replace:!0,link:function(t,e,o){}}}]);